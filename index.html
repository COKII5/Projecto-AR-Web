<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cat√°logo AR - Componentes El√©ctricos</title>
    
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    
    <style>
        body { margin: 0; overflow: hidden; font-family: Arial, sans-serif; }
        
        #info-panel {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            display: none;
            max-width: 500px;
            margin: 0 auto;
            z-index: 1000;
        }
        
        #info-panel.visible { display: block; }
        
        #info-panel h2 {
            color: #4CAF50;
            margin-top: 0;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        
        #info-panel p { line-height: 1.6; margin: 10px 0; }
        
        .formula {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 15px 0;
            font-size: 18px;
        }
        
        #close-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
        }
        
        #instructions {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            z-index: 999;
            text-align: center;
        }
    </style>
</head>
<body>
    
    <div id="instructions">
        üì± Apunta al marcador y toca los componentes
    </div>
    
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        
        <a-marker preset="hiro">
            
            <!-- RESISTENCIA -->
            <a-cylinder 
                id="resistencia"
                position="-0.8 0.1 0" 
                radius="0.05" 
                height="0.3"
                rotation="0 0 90"
                color="#D4AF37"
                class="clickable"
                data-component="resistencia">
                <!-- Bandas de colores -->
                <a-ring position="0.08 0 0" rotation="0 90 0" radius-inner="0.045" radius-outer="0.055" color="#8B4513"></a-ring>
                <a-ring position="0.04 0 0" rotation="0 90 0" radius-inner="0.045" radius-outer="0.055" color="#FF0000"></a-ring>
                <a-ring position="0 0 0" rotation="0 90 0" radius-inner="0.045" radius-outer="0.055" color="#FFD700"></a-ring>
            </a-cylinder>
            <a-text value="R" position="-0.8 -0.2 0" scale="0.3 0.3 0.3" align="center" color="#FFF"></a-text>
            
            <!-- CAPACITOR -->
            <a-entity id="capacitor" position="-0.4 0.1 0" class="clickable" data-component="capacitor">
                <a-box width="0.15" height="0.25" depth="0.05" color="#4169E1"></a-box>
                <a-box position="0.1 0 0" width="0.05" height="0.25" depth="0.05" color="#1E90FF"></a-box>
            </a-entity>
            <a-text value="C" position="-0.4 -0.2 0" scale="0.3 0.3 0.3" align="center" color="#FFF"></a-text>
            
            <!-- LED -->
            <a-entity id="led" position="0 0.15 0" class="clickable" data-component="led">
                <a-cone radius-bottom="0.08" radius-top="0.02" height="0.2" color="#FF4444" opacity="0.8"></a-cone>
                <a-cylinder position="0 -0.15 0" radius="0.02" height="0.1" color="#C0C0C0"></a-cylinder>
            </a-entity>
            <a-text value="LED" position="0 -0.2 0" scale="0.25 0.25 0.25" align="center" color="#FFF"></a-text>
            
            <!-- TRANSISTOR -->
            <a-entity id="transistor" position="0.4 0.1 0" class="clickable" data-component="transistor">
                <a-box width="0.15" height="0.2" depth="0.1" color="#2F4F4F"></a-box>
                <a-cylinder position="-0.1 -0.15 0" radius="0.015" height="0.1" color="#FFD700"></a-cylinder>
                <a-cylinder position="0 -0.15 0" radius="0.015" height="0.1" color="#FFD700"></a-cylinder>
                <a-cylinder position="0.1 -0.15 0" radius="0.015" height="0.1" color="#FFD700"></a-cylinder>
            </a-entity>
            <a-text value="Q" position="0.4 -0.2 0" scale="0.3 0.3 0.3" align="center" color="#FFF"></a-text>
            
            <!-- BATER√çA -->
            <a-entity id="bateria" position="0.8 0.1 0" class="clickable" data-component="bateria">
                <a-cylinder radius="0.08" height="0.15" color="#DC143C"></a-cylinder>
                <a-box position="0 0.1 0" width="0.12" height="0.05" depth="0.12" color="#FFD700"></a-box>
            </a-entity>
            <a-text value="BAT" position="0.8 -0.2 0" scale="0.25 0.25 0.25" align="center" color="#FFF"></a-text>
            
            <!-- T√≠tulo -->
            <a-text 
                value="COMPONENTES ELECTRICOS" 
                position="0 0.5 0" 
                scale="0.4 0.4 0.4" 
                align="center" 
                color="#4CAF50">
            </a-text>
            
        </a-marker>
        
        <a-entity camera></a-entity>
    </a-scene>
    
    <div id="info-panel">
        <h2 id="title"></h2>
        <div id="content"></div>
        <button id="close-btn">Cerrar</button>
    </div>
    
    <script>
        // Base de datos de componentes
        const componentes = {
            resistencia: {
                nombre: "RESISTENCIA",
                simbolo: "R",
                descripcion: "Componente pasivo que se opone al flujo de corriente el√©ctrica.",
                funcion: "Limitar la corriente, dividir voltajes, y disipar energ√≠a en forma de calor.",
                especificaciones: "Valores t√≠picos: 10Œ© a 10MŒ©<br>Potencia: 1/4W, 1/2W, 1W, 2W",
                formula: "V = I √ó R (Ley de Ohm)<br>P = I¬≤ √ó R",
                aplicaciones: "‚Ä¢ Limitaci√≥n de corriente en LEDs<br>‚Ä¢ Divisores de voltaje<br>‚Ä¢ Pull-up/Pull-down en circuitos digitales"
            },
            capacitor: {
                nombre: "CAPACITOR",
                simbolo: "C",
                descripcion: "Componente que almacena energ√≠a en forma de campo el√©ctrico.",
                funcion: "Almacenar carga el√©ctrica temporalmente, filtrar se√±ales, y bloquear corriente DC.",
                especificaciones: "Valores t√≠picos: 1pF a 10000ŒºF<br>Voltaje: 6.3V a 450V",
                formula: "Q = C √ó V<br>E = ¬Ω C √ó V¬≤",
                aplicaciones: "‚Ä¢ Filtros en fuentes de poder<br>‚Ä¢ Acoplamiento AC<br>‚Ä¢ Circuitos de temporizaci√≥n<br>‚Ä¢ Desacople de ruido"
            },
            led: {
                nombre: "LED (Diodo Emisor de Luz)",
                simbolo: "LED/D",
                descripcion: "Semiconductor que emite luz cuando circula corriente a trav√©s de √©l.",
                funcion: "Convertir energ√≠a el√©ctrica en luz visible.",
                especificaciones: "Voltaje directo: 1.8V-3.6V<br>Corriente t√≠pica: 20mA<br>Colores: Rojo, Verde, Azul, Blanco, etc.",
                formula: "V_LED = V_fuente - (I √ó R)<br>I = 20mA (t√≠pico)",
                aplicaciones: "‚Ä¢ Indicadores de estado<br>‚Ä¢ Iluminaci√≥n<br>‚Ä¢ Displays<br>‚Ä¢ Comunicaci√≥n √≥ptica"
            },
            transistor: {
                nombre: "TRANSISTOR (NPN/PNP)",
                simbolo: "Q",
                descripcion: "Semiconductor que puede amplificar se√±ales o funcionar como interruptor.",
                funcion: "Amplificaci√≥n de se√±ales y conmutaci√≥n electr√≥nica.",
                especificaciones: "Tipos: BJT (NPN/PNP), MOSFET<br>Ganancia (Œ≤): 100-800<br>Corriente: mA hasta 10A+",
                formula: "I_C = Œ≤ √ó I_B<br>V_CE(sat) ‚âà 0.2V",
                aplicaciones: "‚Ä¢ Amplificadores de audio<br>‚Ä¢ Switches electr√≥nicos<br>‚Ä¢ Control de motores<br>‚Ä¢ Osciladores"
            },
            bateria: {
                nombre: "BATER√çA (Fuente DC)",
                simbolo: "V/BAT",
                descripcion: "Dispositivo que convierte energ√≠a qu√≠mica en energ√≠a el√©ctrica.",
                funcion: "Proporcionar voltaje constante (DC) al circuito.",
                especificaciones: "Voltajes comunes: 1.5V, 3V, 3.7V, 9V, 12V<br>Tipos: Alcalina, Li-ion, NiMH",
                formula: "E = V √ó I √ó t<br>P = V √ó I",
                aplicaciones: "‚Ä¢ Alimentaci√≥n port√°til<br>‚Ä¢ Sistemas embebidos<br>‚Ä¢ Respaldo de energ√≠a<br>‚Ä¢ Dispositivos m√≥viles"
            }
        };
        
        // Referencias DOM
        const panel = document.getElementById('info-panel');
        const title = document.getElementById('title');
        const content = document.getElementById('content');
        const closeBtn = document.getElementById('close-btn');
        
        // Cerrar panel
        closeBtn.addEventListener('click', () => {
            panel.classList.remove('visible');
        });
        
        // Setup despu√©s de cargar
        window.addEventListener('load', () => {
            setTimeout(() => {
                setupInteraction();
            }, 1000);
        });
        
        function setupInteraction() {
            const clickables = document.querySelectorAll('.clickable');
            
            clickables.forEach(el => {
                el.addEventListener('click', function(evt) {
                    evt.stopPropagation();
                    const tipo = this.getAttribute('data-component');
                    mostrarInfo(tipo);
                });
                
                // Efecto hover
                el.addEventListener('mouseenter', function() {
                    this.setAttribute('scale', '1.2 1.2 1.2');
                });
                
                el.addEventListener('mouseleave', function() {
                    this.setAttribute('scale', '1 1 1');
                });
            });
        }
        
        function mostrarInfo(tipo) {
            const comp = componentes[tipo];
            if (!comp) return;
            
            title.textContent = comp.nombre;
            content.innerHTML = `
                <p><strong>üìå Descripci√≥n:</strong><br>${comp.descripcion}</p>
                <p><strong>‚öôÔ∏è Funci√≥n:</strong><br>${comp.funcion}</p>
                <p><strong>üìä Especificaciones:</strong><br>${comp.especificaciones}</p>
                <div class="formula"><strong>üìê F√≥rmulas:</strong><br>${comp.formula}</div>
                <p><strong>üí° Aplicaciones:</strong><br>${comp.aplicaciones}</p>
            `;
            
            panel.classList.add('visible');
        }
    </script>
    
</body>
</html>
